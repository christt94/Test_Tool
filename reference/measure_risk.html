<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The function measures the disclosure risk for weighted or unweighted data.
It computes the individual risk (and household risk if reasonable) and the
global risk. It also computes a risk threshold based on a global risk value.
Prints a 'measure_risk'-object
Prints a 'ldiversity'-object"><title>Disclosure Risk for Categorical Variables — measure_risk • sdcMicro</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Disclosure Risk for Categorical Variables — measure_risk"><meta property="og:description" content="The function measures the disclosure risk for weighted or unweighted data.
It computes the individual risk (and household risk if reasonable) and the
global risk. It also computes a risk threshold based on a global risk value.
Prints a 'measure_risk'-object
Prints a 'ldiversity'-object"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sdcMicro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">5.7.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/sdcMicro.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/recordSwapping.html">Targeted Record Swapping</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sdcTools/sdcMicro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Disclosure Risk for Categorical Variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/sdcTools/sdcMicro/blob/HEAD/R/measure_risk.R" class="external-link"><code>R/measure_risk.R</code></a></small>
      <div class="d-none name"><code>measure_risk.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function measures the disclosure risk for weighted or unweighted data.
It computes the individual risk (and household risk if reasonable) and the
global risk. It also computes a risk threshold based on a global risk value.</p>
<p>Prints a 'measure_risk'-object</p>
<p>Prints a 'ldiversity'-object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">measure_risk</span><span class="op">(</span><span class="va">obj</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ldiversity</span><span class="op">(</span><span class="va">obj</span>, ldiv_index <span class="op">=</span> <span class="cn">NULL</span>, l_recurs_c <span class="op">=</span> <span class="fl">2</span>, missing <span class="op">=</span> <span class="op">-</span><span class="fl">999</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for measure_risk</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ldiversity</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>obj</dt>
<dd><p>Object of class <code><a href="sdcMicroObj-class.html">sdcMicroObj-class</a></code></p></dd>


<dt>...</dt>
<dd><p>see arguments below</p><ul><li><p>data: Input data, a data.frame.</p></li>
<li><p>keyVars: names (or indices) of categorical key variables (for data-frame method)</p></li>
<li><p>w: name of variable containing sample weights</p></li>
<li><p>hid: name of the clustering variable, e.g. the household ID</p></li>
<li><p>max_global_risk: Maximal global risk for threshold computation</p></li>
<li><p>fast_hier: If TRUE a fast approximation is computed if household data are provided.</p></li>
</ul></dd>


<dt>ldiv_index</dt>
<dd><p>indices (or names) of the variables used for l-diversity</p></dd>


<dt>l_recurs_c</dt>
<dd><p>l-Diversity Constant</p></dd>


<dt>missing</dt>
<dd><p>a integer value to be used as missing value in the C++ routine</p></dd>


<dt>x</dt>
<dd><p>Output of measure_risk() or ldiversity()</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A modified <code><a href="sdcMicroObj-class.html">sdcMicroObj-class</a></code> object or a list with the following elements:</p><ul><li><p>global_risk_ER: expected number of re-identification.</p></li>
<li><p>global_risk: global risk (sum of indivdual risks).</p></li>
<li><p>global_risk_pct: global risk in percent.</p></li>
<li><p>Res: matrix with the risk, frequency in the sample and grossed-up frequency in the population (and the hierachical risk) for each observation.</p></li>
<li><p>global_threshold: for a given max_global_risk the threshold for the risk of observations.</p></li>
<li><p>max_global_risk: the input max_global_risk of the function.</p></li>
<li><p>hier_risk_ER: expected number of re-identification with household structure.</p></li>
<li><p>hier_risk: global risk with household structure (sum of indivdual risks).</p></li>
<li><p>hier_risk_pct: global risk with household structure in percent.</p></li>
<li><p>ldiverstiy: Matrix with Distinct_Ldiversity,
Entropy_Ldiversity and Recursive_Ldiversity for each sensitivity variable.</p></li>
</ul><p>Prints risk-information into the console</p>


<p>Information on L-Diversity Measures in the console</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>To be used when risk of disclosure for individuals within a family is
considered to be statistical independent.</p>
<p>Internally, function <em>freqCalc()</em> and <em>indivRisk</em> are used for
estimation.</p>
<p>Measuring individual risk: The individual risk approach based on so-called
super-population models. In such models population frequency counts are
modeled given a certain distribution.  The estimation procedure of sample
frequency counts given the population frequency counts is modeled by
assuming a negative binomial distribution. This is used for the estimation
of the individual risk. The extensive theory can be found in Skinner (1998),
the approximation formulas for the individual risk used is described in
Franconi and Polettini (2004).</p>
<p>Measuring hierarchical risk: If “hid” - the index of variable holding
information on the hierarchical cluster structures (e.g., individuals that
are clustered in households) - is provided, the hierarchical risk is
additional estimated.  Note that the risk of re-identifying an individual
within a household may also affect the probability of disclosure of other
members in the same household. Thus, the household or cluster-structure of
the data must be taken into account when estimating disclosure risks. It is
commonly assumed that the risk of re-identification of a household is the
risk that at least one member of the household can be disclosed. Thus this
probability can be simply estimated from individual risks as 1 minus the
probability that no member of the household can be identified.</p>
<p>Global risk: The sum of the individual risks in the dataset gives the
expected number of re-identifications that serves as measure of the global
risk.</p>
<p>l-Diversity: If “ldiv_index” is unequal to NULL, i.e. if the indices
of sensible variables are specified, various measures for l-diversity are
calculated. l-diverstiy is an extension of the well-known k-anonymity
approach where also the uniqueness in sensible variables for each pattern
spanned by the key variables are evaluated.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Franconi, L. and Polettini, S. (2004) <em>Individual risk
estimation in mu-Argus: a review</em>. Privacy in Statistical Databases, Lecture
Notes in Computer Science, 262--272. Springer</p>
<p>Machanavajjhala, A. and Kifer, D. and Gehrke, J. and Venkitasubramaniam, M.
(2007) <em>l-Diversity: Privacy Beyond k-Anonymity</em>.  ACM Trans. Knowl.
Discov. Data, 1(1)</p>
<p>Templ, M. Statistical Disclosure Control for Microdata: Methods and Applications in R.
<em>Springer International Publishing</em>, 287 pages, 2017. ISBN 978-3-319-50272-4.
<a href="https://doi.org/10.1007/978-3-319-50272-4" class="external-link">doi:10.1007/978-3-319-50272-4</a>
.</p>
<p>#' Templ, M. and Kowarik, A. and Meindl, B.
Statistical Disclosure Control for Micro-Data Using the R Package sdcMicro.
<em>Journal of Statistical Software</em>, <strong>67</strong> (4), 1--36, 2015. <a href="https://doi.org/10.18637/jss.v067.i04" class="external-link">doi:10.18637/jss.v067.i04</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="freqCalc.html">freqCalc</a></code>, <code><a href="indivRisk.html">indivRisk</a></code></p>
<p><code>measure_risk</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Alexander Kowarik, Bernhard Meindl, Matthias Templ, Bernd Prantner, minor parts of IHSN C++ source</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## measure_risk with sdcMicro objects:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'urbrur'</span>,<span class="st">'roof'</span>,<span class="st">'walls'</span>,<span class="st">'water'</span>,<span class="st">'electcon'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>numVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'expend'</span>,<span class="st">'income'</span>,<span class="st">'savings'</span><span class="op">)</span>, w<span class="op">=</span><span class="st">'sampling_weight'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## risk is already estimated and available in...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "global"     "individual" "numeric"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## measure risk on data frames or matrices:</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 165 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 93</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (2.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:0.03</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">Res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             risk  fk  Fk</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.002849003 351 351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.006211180 161 161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.006666667 150 150</span>
<span class="r-in"><span><span class="va">resw</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,w<span class="op">=</span><span class="st">"sampling_weight"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resw</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:Inf</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">resw</span><span class="op">$</span><span class="va">Res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              risk  fk    Fk</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 2.857061e-05 351 35100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 6.249609e-05 161 16100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 6.710959e-05 150 15000</span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">ldiversity</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,ldiv_index<span class="op">=</span><span class="st">"electcon"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> L-Diversity Measures </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.000   2.000   3.000   2.374   3.000   3.000 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Distinct_Ldiversity electcon_Entropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                            3                    1.855345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                            2                    1.172525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                            2                    1.130836</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Recursive_Ldiversity MultiEntropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      MultiRecursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                         0</span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">ldiversity</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,ldiv_index<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"electcon"</span>,<span class="st">"relat"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> L-Diversity Measures </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  electcon_Distinct_Ldiversity relat_Distinct_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :1.000                Min.   :1.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:2.000                1st Qu.:5.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :3.000                Median :5.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :2.374                Mean   :5.524            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:3.000                3rd Qu.:7.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :3.000                Max.   :8.000            </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Distinct_Ldiversity electcon_Entropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                            3                    1.855345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                            2                    1.172525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                            2                    1.130836</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Recursive_Ldiversity relat_Distinct_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                             1                         8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                             1                         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      relat_Entropy_Ldiversity relat_Recursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                 2.997907                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                 2.209202                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                 2.240133                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      MultiEntropy_Ldiversity MultiRecursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                       0                         0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># measure risk with household risk</span></span></span>
<span class="r-in"><span><span class="va">resh</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,w<span class="op">=</span><span class="st">"sampling_weight"</span>,hid<span class="op">=</span><span class="st">"ori_hid"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resh</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:Inf</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Hierarchical risk </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 7.18</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.16% )</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># change max_global_risk</span></span></span>
<span class="r-in"><span><span class="va">rest</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  w<span class="op">=</span><span class="st">"sampling_weight"</span>,max_global_risk<span class="op">=</span><span class="fl">0.0001</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rest</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## for objects of class sdcMicro:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata2</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'urbrur'</span>,<span class="st">'roof'</span>,<span class="st">'walls'</span>,<span class="st">'water'</span>,<span class="st">'electcon'</span>,<span class="st">'relat'</span>,<span class="st">'sex'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  numVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'expend'</span>,<span class="st">'income'</span>,<span class="st">'savings'</span><span class="op">)</span>, w<span class="op">=</span><span class="st">'sampling_weight'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## already interally applied and availabe in object sdc:</span></span></span>
<span class="r-in"><span><span class="co">## sdc &lt;- measure_risk(sdc)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Matthias Templ, Bernhard Meindl, Alexander Kowarik, Johannes Gussenbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

