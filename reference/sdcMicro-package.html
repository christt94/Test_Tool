<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Statistical Disclosure Control (SDC) for the generation of protected
microdata for researchers and for public use. — sdcMicro-package • sdcMicro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Statistical Disclosure Control (SDC) for the generation of protected
microdata for researchers and for public use. — sdcMicro-package"><meta property="og:description" content="This package includes all methods of the popular software mu-Argus plus
several new methods. In comparison with mu-Argus the advantages of this
package are that the results are fully reproducible even with the included
GUI, that the package can be used in batch-mode from other software, that
the functions can be used in a very flexible way, that everybody could look
at the source code and that there are no time-consuming meta-data management
is necessary. However, the user should have a detailed knowledge about SDC
when applying the methods on data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcMicro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sdcMicro.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/recordSwapping.html">Targeted Record Swapping</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/sdcTools/sdcMicro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Statistical Disclosure Control (SDC) for the generation of protected
microdata for researchers and for public use.</h1>
    <small class="dont-index">Source: <a href="https://github.com/sdcTools/sdcMicro/blob/HEAD/R/sdcMicro-package.R" class="external-link"><code>R/sdcMicro-package.R</code></a></small>
    <div class="hidden name"><code>sdcMicro-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This package includes all methods of the popular software mu-Argus plus
several new methods. In comparison with mu-Argus the advantages of this
package are that the results are fully reproducible even with the included
GUI, that the package can be used in batch-mode from other software, that
the functions can be used in a very flexible way, that everybody could look
at the source code and that there are no time-consuming meta-data management
is necessary. However, the user should have a detailed knowledge about SDC
when applying the methods on data.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>The package is programmed using S4-classes and it comes with a well-defined
class structure.</p>
<p>The implemented graphical user interface (GUI) for microdata protection
serves as an easy-to-handle tool for users who want to use the sdcMicro
package for statistical disclosure control but are not used to the native R
command line interface.  In addition to that, interactions between objects
which results from the anonymization process are provided within the GUI.
This allows an automated recalculation and displaying information of the
frequency counts, individual risk, information loss and data utility after
each anonymization step. In addition to that, the code for every
anonymization step carried out within the GUI is saved in a script which can
then be easily modified and reloaded.</p>
<table class="table table"><tr><td>Package:</td><td>sdcMicro</td></tr><tr><td>Type:</td><td>Package</td></tr><tr><td>Version:</td><td>2.5.9</td></tr><tr><td>Date:</td><td>2009-07-22</td></tr><tr><td>License:</td><td>GPL 2.0</td></tr></table></div>
    <div id="references">
    <h2>References</h2>
    <p>Templ, M. Statistical Disclosure Control for Microdata: Methods and Applications in R.
<em>Springer International Publishing</em>, 287 pages, 2017. ISBN 978-3-319-50272-4.
<a href="https://doi.org/10.1007/978-3-319-50272-4" class="external-link">doi:10.1007/978-3-319-50272-4</a></p>
<p>Templ, M. and Kowarik, A. and Meindl, B.
Statistical Disclosure Control for Micro-Data Using the R Package sdcMicro.
<em>Journal of Statistical Software</em>, <strong>67</strong> (4), 1--36, 2015. <a href="https://doi.org/10.18637/jss.v067.i04" class="external-link">doi:10.18637/jss.v067.i04</a></p>
<p>Templ, M. and Meindl, B. <em>Practical Applications in
Statistical Disclosure Control Using R</em>, Privacy and Anonymity in
Information Management Systems, Bookchapter, Springer London, pp. 31-62,
2010. <a href="https://doi.org/10.1007/978-1-84996-238-4_3" class="external-link">doi:10.1007/978-1-84996-238-4_3</a></p>
<p>Kowarik, A. and Templ, M. and Meindl, B. and Fonteneau, F. and Prantner, B.:
<em>Testing of IHSN Cpp Code and Inclusion of New Methods into sdcMicro</em>,
in: Lecture Notes in Computer Science, J. Domingo-Ferrer, I. Tinnirello
(editors.); Springer, Berlin, 2012, ISBN: 978-3-642-33626-3, pp. 63-77.
<a href="https://doi.org/10.1007/978-3-642-33627-0_6" class="external-link">doi:10.1007/978-3-642-33627-0_6</a></p>
<p>Templ, M.  <em>Statistical Disclosure Control for Microdata Using the
R-Package sdcMicro</em>, Transactions on Data Privacy, vol. 1, number 2, pp.
67-85, 2008. <a href="http://www.tdp.cat/issues/abs.a004a08.php" class="external-link">http://www.tdp.cat/issues/abs.a004a08.php</a></p>
<p>Templ, M.  <em>New Developments in Statistical Disclosure Control and
Imputation: Robust Statistics Applied to Official Statistics</em>,
Suedwestdeutscher Verlag fuer Hochschulschriften, 2009, ISBN: 3838108280,
264 pages.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Matthias Templ, Alexander Kowarik, Bernhard Meindl</p>
<p>Maintainer: Matthias Templ &lt;templ@statistik.tuwien.ac.at&gt;</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## example from Capobianchi, Polettini and Lucarelli:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">francdat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="freqCalc.html">freqCalc</a></span><span class="op">(</span><span class="va">francdat</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,w<span class="op">=</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 4 obs. violate 2-anonymity </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 8 obs. violate 3-anonymity </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  --------------------------</span>
<span class="r-in"><span><span class="va">f</span><span class="op">$</span><span class="va">fk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 2 2 1 1 1 1 2</span>
<span class="r-in"><span><span class="va">f</span><span class="op">$</span><span class="va">Fk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 110.0  84.5  84.5  17.0 541.0   8.0   5.0 110.0</span>
<span class="r-in"><span><span class="co">## with missings:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">francdat</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">4</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">4</span>,<span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">6</span>,<span class="fl">2</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="freqCalc.html">freqCalc</a></span><span class="op">(</span><span class="va">x</span>,  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,w<span class="op">=</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2</span><span class="op">$</span><span class="va">Fk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 149.0  84.5 194.5 563.0 566.0 549.0  22.0 149.0</span>
<span class="r-in"><span><span class="co">## individual risk calculation:</span></span></span>
<span class="r-in"><span><span class="va">indivf</span> <span class="op">&lt;-</span> <span class="fu"><a href="indivRisk.html">indivRisk</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">indivf</span><span class="op">$</span><span class="va">rk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01714426 0.02204233 0.02204233 0.17707583 0.01165448 0.29706308 0.40235948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] 0.01714426</span>
<span class="r-in"><span><span class="co">## Local Suppression</span></span></span>
<span class="r-in"><span><span class="va">localS</span> <span class="op">&lt;-</span> <span class="fu"><a href="localSupp.html">localSupp</a></span><span class="op">(</span><span class="va">f</span>, keyVar<span class="op">=</span><span class="fl">2</span>, threshold<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2observations has individual risks &gt;=0.25and were suppressed!</span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="freqCalc.html">freqCalc</a></span><span class="op">(</span><span class="va">localS</span><span class="op">$</span><span class="va">freqCalc</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, w<span class="op">=</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">indivf2</span> <span class="op">&lt;-</span> <span class="fu"><a href="indivRisk.html">indivRisk</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">indivf2</span><span class="op">$</span><span class="va">rk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01714426 0.02204233 0.02204233 0.17707583 0.01165448 0.29706308 0.40235948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] 0.01714426</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## select another keyVar and run localSupp once again,</span></span></span>
<span class="r-in"><span><span class="co">#if you think the table is not fully protected</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">free1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="freqCalc.html">freqCalc</a></span><span class="op">(</span><span class="va">free1</span>, keyVars<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, w<span class="op">=</span><span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="indivRisk.html">indivRisk</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## and now you can use the interactive plot for individual risk objects:</span></span></span>
<span class="r-in"><span><span class="co">## plot(ind)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## example from Capobianchi, Polettini and Lucarelli:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">francdat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l1</span> <span class="op">&lt;-</span> <span class="fu"><a href="localSuppression.html">localSuppression</a></span><span class="op">(</span><span class="va">francdat</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, importance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l1</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -----------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Total number of suppressions in the key variables: 5 (new: 5)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of suppressions by key variables:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (in parenthesis, the total number suppressions is shown)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Key1  Key2  Key3  Key4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1 (1) 1 (1) 0 (0) 3 (3)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2-anonymity == TRUE</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -----------------------</span>
<span class="r-in"><span><span class="va">l1</span><span class="op">$</span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Key1 Key2 Key3 Key4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1    2    5    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1    2    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    1    2    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    3    3    1   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    4    3    1   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   NA    3    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    6   NA    1   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    1    2    5    1</span>
<span class="r-in"><span><span class="va">l2</span> <span class="op">&lt;-</span> <span class="fu"><a href="localSuppression.html">localSuppression</a></span><span class="op">(</span><span class="va">francdat</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, k<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l3</span> <span class="op">&lt;-</span> <span class="fu"><a href="localSuppression.html">localSuppression</a></span><span class="op">(</span><span class="va">francdat</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, k<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Data from mu-Argus:</span></span></span>
<span class="r-in"><span><span class="co">## Global recoding:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">free1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">free1</span><span class="op">[</span>, <span class="st">"AGE"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="globalRecode.html">globalRecode</a></span><span class="op">(</span><span class="va">free1</span><span class="op">[</span>,<span class="st">"AGE"</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">9</span>,<span class="fl">19</span>,<span class="fl">29</span>,<span class="fl">39</span>,<span class="fl">49</span>,<span class="fl">59</span>,<span class="fl">69</span>,<span class="fl">100</span><span class="op">)</span>, labels<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Top coding:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="topBotCoding.html">topBotCoding</a></span><span class="op">(</span><span class="va">free1</span><span class="op">[</span>,<span class="st">"DEBTS"</span><span class="op">]</span>, value<span class="op">=</span><span class="fl">9000</span>, replacement<span class="op">=</span><span class="fl">9100</span>, kind<span class="op">=</span><span class="st">"top"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Numerical Rank Swapping:</span></span></span>
<span class="r-in"><span><span class="co">## do not use the mu-Argus test data set (free1)</span></span></span>
<span class="r-in"><span><span class="co"># since the numerical variables are (probably) faked.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Tarragona</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">Tarragona1</span> <span class="op">&lt;-</span> <span class="fu"><a href="rankSwap.html">rankSwap</a></span><span class="op">(</span><span class="va">Tarragona</span>, P <span class="op">=</span> <span class="fl">10</span>, K0 <span class="op">=</span> <span class="cn">NULL</span>, R0 <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Microaggregation:</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">Tarragona</span>, method<span class="op">=</span><span class="st">"onedims"</span>, aggr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">Tarragona</span>, method<span class="op">=</span><span class="st">"pca"</span>, aggr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># summary(m1)</span></span></span>
<span class="r-in"><span><span class="co">## approx. 1 minute computation time</span></span></span>
<span class="r-in"><span><span class="co"># valTable(Tarragona, method=c("simple","onedims","pca"))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">microData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">microData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">microData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">microData</span>, method<span class="op">=</span><span class="st">"mdav"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">m1</span><span class="op">$</span><span class="va">x</span>  <span class="co">### fix me</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $meansx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       one              two            three         four            five      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   : 1.000   Min.   : 3.00   Min.   :21   Min.   :50.00   Min.   : 90.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.: 4.000   1st Qu.:11.00   1st Qu.:49   1st Qu.:52.00   1st Qu.:111.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median : 7.000   Median :14.00   Median :65   Median :57.00   Median :133.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   : 6.538   Mean   :14.92   Mean   :61   Mean   :55.92   Mean   :134.8  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.: 8.000   3rd Qu.:19.00   3rd Qu.:73   3rd Qu.:60.00   3rd Qu.:155.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :15.000   Max.   :29.00   Max.   :99   Max.   :61.00   Max.   :188.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $meansxm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       one             two             three            four      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :4.000   Min.   : 8.667   Min.   :30.67   Min.   :51.67  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:4.000   1st Qu.:13.333   1st Qu.:52.33   1st Qu.:54.75  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :4.333   Median :15.000   Median :69.67   Median :54.75  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :6.538   Mean   :14.923   Mean   :61.00   Mean   :55.92  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:9.000   3rd Qu.:15.000   3rd Qu.:83.75   3rd Qu.:58.00  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :9.667   Max.   :22.667   Max.   :83.75   Max.   :59.67  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       five      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :103.7  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:118.7  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :152.2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :134.8  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:152.2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :158.7  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $amean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $amedian</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7083864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $aonestep</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3452408</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $devvar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.591051</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $amad</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2.213889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $acov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7955257</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $arcov</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $acor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.686831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $arcor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $acors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2.374987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $adlm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5.191309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $adlts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $apcaload</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8.456233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $apppcaload</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7.476907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $totalsOrig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   one   two three  four  five </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    85   194   793   727  1752 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $totalsMicro</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $atotals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pmtotals</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $util1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 22.84007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $deigenvalues</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3.11481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $risk0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $risk1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4615385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $risk2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wrisk1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.9314044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wrisk2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="plotMicro.html">plotMicro</a></span><span class="op">(</span><span class="va">m1</span>, <span class="fl">1</span>, which.plot<span class="op">=</span><span class="fl">1</span><span class="op">)</span>  <span class="co"># too less observations...</span></span></span>
<span class="r-plt img"><img src="sdcMicro-package-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">free1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotMicro.html">plotMicro</a></span><span class="op">(</span><span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">free1</span><span class="op">[</span>,<span class="fl">31</span><span class="op">:</span><span class="fl">34</span><span class="op">]</span>, method<span class="op">=</span><span class="st">"onedims"</span><span class="op">)</span>, <span class="fl">1</span>, which.plot<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sdcMicro-package-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## disclosure risk (interval) and data utility:</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">Tarragona</span>, method<span class="op">=</span><span class="st">"onedims"</span>, aggr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dRisk.html">dRisk</a></span><span class="op">(</span>obj<span class="op">=</span><span class="va">Tarragona</span>, xm<span class="op">=</span><span class="va">m1</span><span class="op">$</span><span class="va">mx</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8717026</span>
<span class="r-in"><span><span class="fu"><a href="dRisk.html">dRisk</a></span><span class="op">(</span>obj<span class="op">=</span><span class="va">Tarragona</span>, xm<span class="op">=</span><span class="va">m2</span><span class="op">$</span><span class="va">mx</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.004796163</span>
<span class="r-in"><span><span class="fu"><a href="dUtility.html">dUtility</a></span><span class="op">(</span>obj<span class="op">=</span><span class="va">Tarragona</span>, xm<span class="op">=</span><span class="va">m1</span><span class="op">$</span><span class="va">mx</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 120.8887</span>
<span class="r-in"><span><span class="fu"><a href="dUtility.html">dUtility</a></span><span class="op">(</span>obj<span class="op">=</span><span class="va">Tarragona</span>, xm<span class="op">=</span><span class="va">m2</span><span class="op">$</span><span class="va">mx</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1512.416</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## S4 class code for Adding Noise methods will be included</span></span></span>
<span class="r-in"><span><span class="co">#in the next version of sdcMicro.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fast generation of synthetic data with aprox.</span></span></span>
<span class="r-in"><span><span class="co">#the same covariance matrix as the original one.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cov</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              hp        drat         wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hp   4700.86694 -16.4511089 44.1926613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> drat  -16.45111   0.2858814 -0.3727207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wt     44.19266  -0.3727207  0.9573790</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cov</a></span><span class="op">(</span><span class="fu"><a href="dataGen.html">dataGen</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>,n<span class="op">=</span><span class="fl">200</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              hp        drat         wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hp   4239.93053 -11.9670373 38.3510071</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> drat  -11.96704   0.2645077 -0.3599786</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> wt     38.35101  -0.3599786  0.9470101</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/pairs.html" class="external-link">pairs</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sdcMicro-package-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/pairs.html" class="external-link">pairs</a></span><span class="op">(</span><span class="fu"><a href="dataGen.html">dataGen</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>,n<span class="op">=</span><span class="fl">200</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sdcMicro-package-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## PRAM</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">250</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr1</span> <span class="op">&lt;-</span> <span class="fu"><a href="pram.html">pram</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">pr1</span><span class="op">$</span><span class="va">x_pram</span> <span class="op">==</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pr1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">250</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="pram.html">pram</a></span><span class="op">(</span><span class="va">x2</span><span class="op">)</span><span class="op">$</span><span class="va">x_pram</span> <span class="op">==</span> <span class="va">x2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">free1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">marstat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">free1</span><span class="op">[</span>,<span class="st">"MARSTAT"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">marstatPramed</span> <span class="op">&lt;-</span> <span class="fu"><a href="pram.html">pram</a></span><span class="op">(</span><span class="va">marstat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">marstatPramed</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># FOR OBJECTS OF CLASS sdcMicro</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># undo-functionality is by default restricted to data sets</span></span></span>
<span class="r-in"><span><span class="co"># with &lt;= 1e5 rows; to modify, env-var `sdcMicro_maxsize_undo`</span></span></span>
<span class="r-in"><span><span class="co"># can to be changed before creating a problem instance</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"sdcMicro_maxsize_undo"</span> <span class="op">=</span> <span class="fl">1e6</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'urbrur'</span>,<span class="st">'roof'</span>,<span class="st">'walls'</span>,<span class="st">'water'</span>,<span class="st">'electcon'</span>,<span class="st">'relat'</span>,<span class="st">'sex'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  numVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'expend'</span>,<span class="st">'income'</span>,<span class="st">'savings'</span><span class="op">)</span>, w<span class="op">=</span><span class="st">'sampling_weight'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">manipNumVars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### Display Risks</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="dRisk.html">dRisk</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="co">### use addNoise without Parameters</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="addNoise.html">addNoise</a></span><span class="op">(</span><span class="va">sdc</span>,variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expend"</span>,<span class="st">"income"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">manipNumVars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="co">### undolast</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">undolast</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">manipNumVars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="co">### redo addNoise with Parameter</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="addNoise.html">addNoise</a></span><span class="op">(</span><span class="va">sdc</span>, noise<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">manipNumVars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="co">### dataGen</span></span></span>
<span class="r-in"><span><span class="co">#sdc &lt;- undolast(sdc)</span></span></span>
<span class="r-in"><span><span class="co">#head(sdc@risk$individual)</span></span></span>
<span class="r-in"><span><span class="co">#sdc@risk$global</span></span></span>
<span class="r-in"><span><span class="co">#sdc &lt;- dataGen(sdc)</span></span></span>
<span class="r-in"><span><span class="co">#head(sdc@risk$individual)</span></span></span>
<span class="r-in"><span><span class="co">#sdc@risk$global</span></span></span>
<span class="r-in"><span><span class="co">### LocalSuppression</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">undolast</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="localSuppression.html">localSuppression</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="co">### microaggregation</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">undolast</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="microaggregation.html">microaggregation</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### pram</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">undolast</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="pram.html">pram</a></span><span class="op">(</span><span class="va">sdc</span>,keyVar<span class="op">=</span><span class="st">"water"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="co">### rankSwap</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">undolast</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="rankSwap.html">rankSwap</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">individual</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="co">### suda2</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="suda2.html">suda2</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">suda2</span></span></span>
<span class="r-in"><span><span class="co">### topBotCoding</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="topBotCoding.html">topBotCoding</a></span><span class="op">(</span><span class="va">sdc</span>, value<span class="op">=</span><span class="fl">60000000</span>, replacement<span class="op">=</span><span class="fl">62000000</span>, column<span class="op">=</span><span class="st">"income"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, type<span class="op">=</span><span class="st">"manipNumVars"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">numeric</span></span></span>
<span class="r-in"><span><span class="co">### LocalRecProg</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">keyVars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>, <span class="st">"roof"</span>, <span class="st">"walls"</span>, <span class="st">"water"</span>, <span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="st">"sampling_weight"</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata2</span>,</span></span>
<span class="r-in"><span>  keyVars <span class="op">=</span> <span class="va">keyVars</span>,</span></span>
<span class="r-in"><span>  weightVar <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="LocalRecProg.html">LocalRecProg</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">$</span><span class="va">global</span></span></span>
<span class="r-in"><span><span class="co">### model-based risks</span></span></span>
<span class="r-in"><span><span class="co">#' formula</span></span></span>
<span class="r-in"><span><span class="va">form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">as.formula</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">keyVars</span>, collapse <span class="op">=</span> <span class="st">"+"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="modRisk.html">modRisk</a></span><span class="op">(</span><span class="va">sdc</span>, method <span class="op">=</span> <span class="st">"default"</span>, formulaM <span class="op">=</span> <span class="va">form</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, <span class="st">"risk"</span><span class="op">)</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="modRisk.html">modRisk</a></span><span class="op">(</span><span class="va">sdc</span>, method <span class="op">=</span> <span class="st">"CE"</span>, formulaM <span class="op">=</span> <span class="va">form</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, <span class="st">"risk"</span><span class="op">)</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="modRisk.html">modRisk</a></span><span class="op">(</span><span class="va">sdc</span>, method <span class="op">=</span> <span class="st">"PLM"</span>, formulaM <span class="op">=</span> <span class="va">form</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, <span class="st">"risk"</span><span class="op">)</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="modRisk.html">modRisk</a></span><span class="op">(</span><span class="va">sdc</span>, method <span class="op">=</span> <span class="st">"weightedLLM"</span>, formulaM <span class="op">=</span> <span class="va">form</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, <span class="st">"risk"</span><span class="op">)</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="modRisk.html">modRisk</a></span><span class="op">(</span><span class="va">sdc</span>, method <span class="op">=</span> <span class="st">"IPF"</span>, formulaM <span class="op">=</span> <span class="va">form</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get.sdcMicroObj.html">get.sdcMicroObj</a></span><span class="op">(</span><span class="va">sdc</span>, <span class="st">"risk"</span><span class="op">)</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matthias Templ, Bernhard Meindl, Alexander Kowarik, Johannes Gussenbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

