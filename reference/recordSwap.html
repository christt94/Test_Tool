<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="[createDat()] returns dummy data to illustrate
targeted record swapping. The generated data contain
household ids (`hid`), geographic variables
(`nuts1`, `nuts2`, `nuts3`, `lau2`) as well as some
other household or personal variables.
Applies targeted record swapping on micro data considering the identification
risk of each record as well the geographic topology."><title>Dummy Dataset for Record Swapping — createDat • sdcMicro</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dummy Dataset for Record Swapping — createDat"><meta property="og:description" content="[createDat()] returns dummy data to illustrate
targeted record swapping. The generated data contain
household ids (`hid`), geographic variables
(`nuts1`, `nuts2`, `nuts3`, `lau2`) as well as some
other household or personal variables.
Applies targeted record swapping on micro data considering the identification
risk of each record as well the geographic topology."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sdcMicro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">5.7.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/sdcMicro.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/recordSwapping.html">Targeted Record Swapping</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sdcTools/sdcMicro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Dummy Dataset for Record Swapping</h1>
      <small class="dont-index">Source: <a href="https://github.com/sdcTools/sdcMicro/blob/HEAD/R/createDat.R" class="external-link"><code>R/createDat.R</code></a>, <a href="https://github.com/sdcTools/sdcMicro/blob/HEAD/R/recordSwap.R" class="external-link"><code>R/recordSwap.R</code></a></small>
      <div class="d-none name"><code>recordSwap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>[createDat()] returns dummy data to illustrate
targeted record swapping. The generated data contain
household ids (`hid`), geographic variables
(`nuts1`, `nuts2`, `nuts3`, `lau2`) as well as some
other household or personal variables.</p>
<p>Applies targeted record swapping on micro data considering the identification
risk of each record as well the geographic topology.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createDat</span><span class="op">(</span>N <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">recordSwap</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for sdcMicroObj</span></span>
<span><span class="fu">recordSwap</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">recordSwap</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">hid</span>,</span>
<span>  <span class="va">hierarchy</span>,</span>
<span>  <span class="va">similar</span>,</span>
<span>  swaprate <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  risk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  risk_threshold <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  k_anonymity <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  risk_variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  carry_along <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_swapped_id <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_file_name <span class="op">=</span> <span class="st">"TRS_logfile.txt"</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>N</dt>
<dd><p>integer, number of household to generate</p></dd>


<dt>data</dt>
<dd><p>must be either a micro data set in the form of a
`data.table` or `data.frame`, or an `sdcObject`, see
<a href="sdcMicroObj-class.html">createSdcObj</a>.</p></dd>


<dt>...</dt>
<dd><p>parameters passed to `recordSwap.default()`</p></dd>


<dt>hid</dt>
<dd><p>column index or column name in `data` which refers
to the household identifier.</p></dd>


<dt>hierarchy</dt>
<dd><p>column indices or column names of variables in
`data` which refer to the geographic hierarchy in the micro data
set. For instance county &gt; municipality &gt; district.</p></dd>


<dt>similar</dt>
<dd><p>vector or list of integer vectors or column names
containing similarity profiles, see details for more explanations.</p></dd>


<dt>swaprate</dt>
<dd><p>double between 0 and 1 defining the proportion of
households which should be swapped, see details for more explanations</p></dd>


<dt>risk</dt>
<dd><p>either column indices or column names in `data` or
`data.table`, `data.frame` or `matrix` indicating risk of each record
at each hierarchy level. If `risk`-matrix is supplied to swapping procedure
will not use the k-anonymity rule but the values found in this matrix
for swapping.
ATTENTION: This is NOT fully implemented yet and currently ignored by the
underlying c++ functions until tested properly</p></dd>


<dt>risk_threshold</dt>
<dd><p>single numeric value indicating when a household is
considered "high risk", e.g. when this household must be swapped. Is only
used when `risk` is not `NULL`.
ATTENTION: This is NOT fully implemented yet and currently ignored by the
underlying c++ functions until tested properly</p></dd>


<dt>k_anonymity</dt>
<dd><p>integer defining the threshold of high risk households
(counts&lt;k) for using k-anonymity rule</p></dd>


<dt>risk_variables</dt>
<dd><p>column indices or column names of variables in `data`
which will be considered for estimating the risk. Only used when k-anonymity
rule is applied.</p></dd>


<dt>carry_along</dt>
<dd><p>integer vector indicating additional variables to swap
besides to hierarchy variables. These variables do not interfere with the
procedure of finding a record to swap with or calculating risk. This
parameter is only used at the end of the procedure when swapping the
hierarchies.</p></dd>


<dt>return_swapped_id, </dt>
<dd><p>boolean if `TRUE` the output includes an
additional column showing the `hid` with which a record was swapped with.
The new column will have the name `paste0(hid,"_swapped")`.</p></dd>


<dt>log_file_name</dt>
<dd><p>character, path for writing a log file. The log
file contains a list of household IDs (`hid`) which could not have been
swapped and is only created if any such households exist.</p></dd>


<dt>seed</dt>
<dd><p>integer defining the seed for the random number generator, for
reproducibility. if `NULL` a random seed will be set using `sample(1e5,1)`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>`data.table` containing dummy data</p>


<p>`data.table` with swapped records.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The procedure accepts a `data.frame` or `data.table`
containing all necessary information for the record swapping, e.g
parameter `hid`, `similar`, `hierarchy`, etc ...
First the micro data in `data` is ordered by `hid` and the identification
risk is calculated for each record in each hierarchy level. As of right
now only counts is used as identification risk and the inverse of counts
is used as sampling probability.
NOTE: It will be possible to supply an identification risk for each record
and hierarchy level which will be passed down to the C++-function. This
is however not fully implemented.</p>
<p>With the parameter `k_anonymity` a k-anonymity rule is applied to define
risky households in each hierarchy level. A household is set to risky
if counts &lt; k_anonymity in any hierarchy level and the household needs
to be swapped across this hierarchy level.
For instance having a geographic hierarchy of NUTS1 &gt; NUTS2 &gt; NUTS3 the
counts are calculated for each geographic variable and defined
`risk_variables`. If the counts for a record falls below `k_anonymity`
for hierarchy county then this record needs to be swapped across counties.
Setting `k_anonymity = 0` disables this feature and no risky households
are defined.</p>
<p>After that the targeted record swapping is applied starting from the highest
to the lowest hierarchy level and cycling through all possible geographic
areas at each hierarchy level, e.g every county, every municipality in
every county, etc, ...</p>
<p>At each geographic area a set of values is created for records to be
swapped. In all but the lowest hierarchy level this is ONLY made out
of all records which do not fulfill the k-anonymity and have not already
been swapped. Those records are swapped with records not belonging to
the same geographic area, which have not already been swapped beforehand.
Swapping refers to the interchange of geographic variables defined in
`hierarchy`. When a record is swapped all other record containing the
same `hid` are swapped as well.</p>
<p>At the lowest hierarchy level in every geographic area the set of records to
be bswapped is made up of all records which do not fulfill the k-anonymity
as well as the remaining numer of records such that the proportion of
swapped records of the geographic area is in coherence with the `swaprate`.
If, due to the k-anonymity condition, more records have already been swapped
in this geographic area then only the records which do not fulfill the
k-anonymity are swapped.</p>
<p>Using the parameter `similar` one can define similarity profiles.
`similar` needs to be a list of vectors with each list entry containing
column indices of `data`. These entries are used when searching for donor
households, meaning that for a specific record the set of all donor
records is made out of records which have the same values in
`similar[[1]]`. It is however important to note, that these variables
can only be variables related to households (not persons!). If no suitable
donor can be found the next similarity profile is used, `similar[[2]]` and
the set of all donors is then made up out of all records which have the
same values in the column indices in `similar[[2]]`. This procedure
continues until a donor record was found or all the similarity profiles
have been used.</p>
<p>`swaprate` sets the swaprate of households to be swapped, where a single
swap counts for swapping 2 households, the sampled household and the
corresponding donor. Prior to the procedure the swaprate is applied on
the lowest hierarchy level, to determine the target number of swapped
households in each of the lowest hierarchies. If the target numbers of a
decimal point they will randomly be rounded up or down such that the
number of households swapped in total is in coherence to the swaprate.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>recordSwap</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Johannes Gussenbauer</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># generate 10000 dummy households</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seed</span> <span class="op">&lt;-</span> <span class="fl">2021</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="va">seed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nhid</span> <span class="op">&lt;-</span> <span class="fl">10000</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">sdcMicro</span><span class="fu">::</span><span class="fu">createDat</span><span class="op">(</span><span class="va">nhid</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Item 7 has 10000 rows but longest item has 34827; recycled with remainder.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Item 8 has 10000 rows but longest item has 34827; recycled with remainder.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Item 9 has 10000 rows but longest item has 34827; recycled with remainder.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define paramters for swapping</span></span></span>
<span class="r-in"><span><span class="va">k_anonymity</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">swaprate</span> <span class="op">&lt;-</span> <span class="fl">.05</span> <span class="co"># 5%</span></span></span>
<span class="r-in"><span><span class="va">similar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hsize"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hier</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nuts1"</span>, <span class="st">"nuts2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">risk_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageGroup"</span>, <span class="st">"national"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hid</span> <span class="op">&lt;-</span> <span class="st">"hid"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply record swapping</span></span></span>
<span class="r-in"><span><span class="va">dat_s</span> <span class="op">&lt;-</span> <span class="fu">recordSwap</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>  hid <span class="op">=</span> <span class="va">hid</span>,</span></span>
<span class="r-in"><span>  hierarchy <span class="op">=</span> <span class="va">hier</span>,</span></span>
<span class="r-in"><span>  similar <span class="op">=</span> <span class="va">similar</span>,</span></span>
<span class="r-in"><span>  swaprate <span class="op">=</span> <span class="va">swaprate</span>,</span></span>
<span class="r-in"><span>  k_anonymity <span class="op">=</span> <span class="va">k_anonymity</span>,</span></span>
<span class="r-in"><span>  risk_variables <span class="op">=</span> <span class="va">risk_variables</span>,</span></span>
<span class="r-in"><span>  carry_along <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  return_swapped_id <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="va">seed</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Recordswapping was successful!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># number of swapped households</span></span></span>
<span class="r-in"><span><span class="va">dat_s</span><span class="op">[</span><span class="va">hid</span> <span class="op">!=</span> <span class="va">hid_swapped</span>, <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/duplicated.html" class="external-link">uniqueN</a></span><span class="op">(</span><span class="va">hid</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 500</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># hierarchies are not consistently swapped</span></span></span>
<span class="r-in"><span><span class="va">dat_s</span><span class="op">[</span><span class="va">hid</span> <span class="op">!=</span> <span class="va">hid_swapped</span>, <span class="fu">.</span><span class="op">(</span><span class="va">nuts1</span>, <span class="va">nuts2</span>, <span class="va">nuts3</span>, <span class="va">lau2</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       nuts1 nuts2 nuts3  lau2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:     3    35  3406 34062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:     3    35  3406 34062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:     3    35  3406 34062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     2    21  1104 11042</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:     2    21  1104 11042</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1682:     3    34  3204 32044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1683:     3    34  3204 32044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1684:     3    34  3204 32044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1685:     3    34  3204 32044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1686:     3    34  3204 32044</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use parameter carry_along</span></span></span>
<span class="r-in"><span><span class="va">dat_s</span> <span class="op">&lt;-</span> <span class="fu">recordSwap</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>  hid <span class="op">=</span> <span class="va">hid</span>,</span></span>
<span class="r-in"><span>  hierarchy <span class="op">=</span> <span class="va">hier</span>,</span></span>
<span class="r-in"><span>  similar <span class="op">=</span> <span class="va">similar</span>,</span></span>
<span class="r-in"><span>  swaprate <span class="op">=</span> <span class="va">swaprate</span>,</span></span>
<span class="r-in"><span>  k_anonymity <span class="op">=</span> <span class="va">k_anonymity</span>,</span></span>
<span class="r-in"><span>  risk_variables <span class="op">=</span> <span class="va">risk_variables</span>,</span></span>
<span class="r-in"><span>  carry_along <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nuts3"</span>, <span class="st">"lau2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  return_swapped_id <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="va">seed</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Recordswapping was successful!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat_s</span><span class="op">[</span><span class="va">hid</span> <span class="op">!=</span> <span class="va">hid_swapped</span>, <span class="fu">.</span><span class="op">(</span><span class="va">nuts1</span>, <span class="va">nuts2</span>, <span class="va">nuts3</span>, <span class="va">lau2</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       nuts1 nuts2 nuts3  lau2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:     3    35  3508 35085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:     3    35  3508 35085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:     3    35  3508 35085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     2    21  2109 21093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:     2    21  2109 21093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1682:     3    34  3408 34083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1683:     3    34  3408 34083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1684:     3    34  3408 34083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1685:     3    34  3408 34083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1686:     3    34  3408 34083</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Matthias Templ, Bernhard Meindl, Alexander Kowarik, Johannes Gussenbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

